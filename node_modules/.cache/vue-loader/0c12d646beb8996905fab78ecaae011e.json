{"remainingRequest":"/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/src/App.vue","mtime":1603123712844},{"path":"/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edrosesingcay/Documents/EXAMS/driver-trip-tracker/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCgogIGNvbXBvbmVudHM6IHsKICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbFRyaXBzOiBudWxsLAogICAgICBtZXNzYWdlOiB7CiAgICAgICAgdHlwZTogJycsCiAgICAgICAgdGV4dDogJycKICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy50cmlwcygpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBsb2FkIChldmVudCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBjb25zdCB0cmlwRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgdHJpcEZpbGUpOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX0hPU1QgKyAndHJpcHMvdXBsb2FkJywgZm9ybURhdGEsIHsgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH19KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMudHJpcHMoKTsKICAgICAgICAgIHRoaXMubWVzc2FnZS50eXBlID0gJ3N1Y2Nlc3MnOwogICAgICAgICAgdGhpcy5tZXNzYWdlLnRleHQgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZS52YWx1ZSA9IG51bGw7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZSA9ICdlcnJvcic7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UudGV4dCA9ICdTb3JyeSwgdW5hYmxlIHRvIHByb2Nlc3MgeW91ciB1cGxvYWQuJzsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIHRyaXBzICgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9IT1NUICsgJ3RyaXBzJykKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuYWxsVHJpcHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIHRoaXMubWVzc2FnZS50eXBlID0gJ2Vycm9yJzsKICAgICAgICB0aGlzLm1lc3NhZ2UudGV4dCA9ICdTb3JyeSwgdW5hYmx0IHRvIGZldGNoIHRyaXBzLic7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyICgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgLmRlbGV0ZShwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9IT1NUICsgJ3RyaXBzJykKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMudHJpcHMoKTsKICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZSA9ICdzdWNjZXNzJzsKICAgICAgICB0aGlzLm1lc3NhZ2UudGV4dCA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB0aGlzLm1lc3NhZ2UudHlwZSA9ICdlcnJvcic7CiAgICAgICAgdGhpcy5tZXNzYWdlLnRleHQgPSAnU29ycnksIHVuYWJsdCB0byBmZXRjaCB0cmlwcy4nOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-app-bar\n      app\n      color=\"primary\"\n      dark\n    >\n      <div class=\"d-flex align-center\">\n        <v-toolbar-title>Driver Trip Tracker</v-toolbar-title>\n      </div>\n\n      <v-spacer></v-spacer>\n\n      <input type=\"file\" @change=\"upload\" ref=\"file\" style=\"display: none\" accept=\"text/plain\">\n      <v-btn\n        text\n        @click=\"$refs.file.click()\"\n        :disabled=\"loading\"\n      >\n        <span class=\"mr-2\">Upload</span>\n        <v-icon>mdi-cloud-upload</v-icon>\n      </v-btn>\n      <v-btn\n        text\n        @click=\"clear\"\n        color=\"error\"\n        :disabled=\"loading\"\n      >\n        <span class=\"mr-2\">Clear</span>\n        <v-icon>mdi-delete-forever</v-icon>\n      </v-btn>\n    </v-app-bar>\n    \n\n    <v-main>\n      <v-expand-transition>\n      <v-alert\n        dense\n        text\n        v-if=\"message.text\"\n        :type=\"message.type\"\n      >\n        <v-row align=\"center\" no-gutters >\n          <v-col class=\"grow\"> {{ message.text }} </v-col>\n          <v-spacer></v-spacer>\n          <v-col class=\"shrink\">\n            <v-btn @click=\"message = {}\" :color=\"message.type\" outlined >\n              Okay\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-alert>\n      </v-expand-transition>\n\n      <div style=\"min-height: 4px;\">\n      <v-progress-linear\n          indeterminate\n          v-if=\"loading\"\n          color=\"yellow darken-2\"\n          :active=\"loading\"\n        ></v-progress-linear>\n      </div>\n\n      <div class=\"pa-6\">\n        <v-row no-gutters>\n          <v-col cols=\"6\" class=\"pl-6\"><h3>Name</h3></v-col>\n          <v-col cols=\"2\"><h3>Time</h3></v-col>\n          <v-col cols=\"2\"><h3>Distance</h3></v-col>\n          <v-col cols=\"2\"><h3>Speed</h3></v-col>\n        </v-row>\n        <v-expansion-panels\n          multiple\n          v-for=\"userTrips in allTrips\"\n          :key=\"userTrips._id\"\n          :readonly=\"!userTrips.trips && !userTrips.trips.length > 0\"\n        >\n          <v-expansion-panel>\n            <v-expansion-panel-header>\n              <v-row>\n                <v-col cols=\"6\">{{ userTrips.name }}</v-col>\n                <v-col cols=\"2\" class=\"pl-6\">{{ userTrips.totalTripTime + ' hour(s)' || 0}}</v-col>\n                <v-col cols=\"2\" class=\"pl-6\">{{ userTrips.totalDistance + ' miles' || 0}}</v-col>\n                <v-col cols=\"2\" class=\"pl-8\">{{ userTrips.totalSpeed + ' mph' || 0}}</v-col>\n              </v-row>\n            </v-expansion-panel-header>\n            <v-expansion-panel-content v-if=\"userTrips.trips.length > 0\">\n              <v-simple-table>\n                <template v-slot:default>\n                  <thead>\n                    <tr>\n                      <th class=\"text-left\">\n                        Trip Start Time\n                      </th>\n                      <th class=\"text-left\">\n                        Trip End Time\n                      </th>\n                      <th class=\"text-left\">\n                        Time\n                      </th>\n                      <th class=\"text-left\">\n                        Distance\n                      </th>\n                      <th class=\"text-left\">\n                        Speed\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr\n                      v-for=\"trip in userTrips.trips\"\n                      :key=\"trip._id\"\n                    >\n                      <td>{{ trip.startTime }}</td>\n                      <td>{{ trip.endTime }}</td>\n                      <td>{{ trip.time + ' hour(s)'}}</td>\n                      <td>{{ trip.distance + ' miles'}}</td>\n                      <td>{{ trip.speed + ' mph' }}</td>\n                    </tr>\n                  </tbody>\n                </template>\n              </v-simple-table>\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </v-expansion-panels>\n      </div>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'App',\n\n  components: {\n  },\n\n  data () {\n    return {\n      allTrips: null,\n      message: {\n        type: '',\n        text: ''\n      },\n      loading: false\n    }\n  },\n  mounted () {\n    this.trips();\n  },\n  methods: {\n    upload (event) {\n      this.loading = true;\n      const formData = new FormData();\n      const tripFile = event.target.files[0];\n      formData.append(\"file\", tripFile);\n      axios\n        .post(process.env.VUE_APP_API_HOST + 'trips/upload', formData, { headers: { 'Content-Type': 'multipart/form-data' }})\n        .then(response => {\n          this.trips();\n          this.message.type = 'success';\n          this.message.text = response.data.message;\n          this.loading = false;\n          this.$refs.file.value = null;\n        })\n        .catch(err => {\n          console.log(err);\n          this.message.type = 'error';\n          this.message.text = 'Sorry, unable to process your upload.';\n          this.loading = false;\n        });\n    },\n    trips () {\n      this.loading = true;\n      axios\n      .get(process.env.VUE_APP_API_HOST + 'trips')\n      .then(response => {\n        this.allTrips = response.data;\n        this.loading = false;\n      })\n      .catch(err => {\n        console.log(err);\n        this.message.type = 'error';\n        this.message.text = 'Sorry, unablt to fetch trips.';\n        this.loading = false;\n      });\n    },\n    clear () {\n      this.loading = true;\n      axios\n      .delete(process.env.VUE_APP_API_HOST + 'trips')\n      .then(response => {\n        this.trips();\n        this.message.type = 'success';\n        this.message.text = response.data.message;\n        this.loading = false;\n      })\n      .catch(err => {\n        console.log(err);\n        this.message.type = 'error';\n        this.message.text = 'Sorry, unablt to fetch trips.';\n        this.loading = false;\n      });\n    }\n  }\n};\n</script>\n<style scope>\n  .v-expansion-panel--active {\n    background-color: #eee !important;\n  }\n</style>"]}]}